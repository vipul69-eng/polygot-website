<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Polygot - AI-Powered Translation CLI</title>
    <link rel="stylesheet" href="/home/styles.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/polygot"></script>
    <style>
      /* Language Selector Styles */
    </style>
  </head>
  <body>
    <polygot-translator
      id="polygot"
      loc="/locales/home"
      lang="en"
    ></polygot-translator>

    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-container nav-content">
        <div class="logo">
          <span class="logo-text">Polygot</span>
        </div>
        <div class="nav-links">
          <a href="#features">Features</a>
          <a href="#how-it-works">How It Works</a>
          <a href="/docs">Docs</a>
          <a
            href="https://github.com/vipul69-eng/polygot"
            target="_blank"
            class="nav-github"
          >
            <i data-lucide="github"></i>
          </a>
          <div class="language-selector-wrapper">
            <select id="languageSelect" class="language-selector">
              <option value="en">English</option>
              <option value="es">Espa√±ol</option>
              <option value="de">Deutsch</option>
              <option value="fr">Fran√ßais</option>
            </select>
            <span class="language-badge" id="languageBadge">New</span>
          </div>
          <a href="#get-started" class="btn-nav">Get Started</a>
        </div>
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
          <i data-lucide="menu"></i>
        </button>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <button class="mobile-menu-close" id="mobileMenuClose">
        <i data-lucide="x"></i>
      </button>
      <div class="mobile-menu-links">
        <a href="#features">Features</a>
        <a href="#how-it-works">How It Works</a>
        <a href="/docs">Documentation</a>
        <a href="https://github.com/vipul69-eng/polygot" target="_blank"
          >GitHub</a
        >
        <div class="language-selector-wrapper mobile-language-selector">
          <select id="mobileLanguageSelect" class="language-selector">
            <option value="en">English</option>
            <option value="es">Espa√±ol</option>
            <option value="de">Deutsch</option>
            <option value="fr">Fran√ßais</option>
          </select>
        </div>
        <a href="#get-started" class="btn-mobile">Get Started</a>
      </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container hero-content">
        <div class="hero-badge">
          <span>Polygot</span>
        </div>
        <h1 class="hero-title">
          One Component and<br />
          <span class="gradient-text">Every language.</span>
        </h1>
        <p class="hero-description">
          An AI-powered translation layer that instantly localizes your entire
          application with context-aware accuracy while automatically handling
          SEO, URLs, and hreflang for global reach.
        </p>
        <div class="hero-actions">
          <a href="#get-started" class="btn btn-primary"> Get Started </a>
          <a href="/docs" class="btn btn-secondary"> View Docs </a>
        </div>
        <div class="hero-terminal">
          <div class="terminal-header">
            <div class="terminal-buttons">
              <span class="terminal-btn red"></span>
              <span class="terminal-btn yellow"></span>
              <span class="terminal-btn green"></span>
            </div>
            <span class="terminal-title">terminal</span>
          </div>
          <div class="terminal-body">
            <div class="terminal-line">
              <span class="terminal-prompt">$</span>
              <span class="terminal-command">npm install -g polygot</span>
            </div>
            <div class="terminal-line">
              <span class="terminal-output"
                >‚úì Successfully installed polygot</span
              >
            </div>
            <div class="terminal-line">
              <span class="terminal-prompt">$</span>
              <span class="terminal-command"
                >polygot translate ./src es,fr,de ./locales</span
              >
            </div>
            <div class="terminal-line">
              <span class="terminal-output"
                >üåç Translating to 3 languages...</span
              >
            </div>
            <div class="terminal-line">
              <span class="terminal-output terminal-success"
                >‚úì Translation complete</span
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
      <div class="container">
        <div class="section-header">
          <h2>Built for Modern Development</h2>
          <p>Everything you need to internationalize your application</p>
        </div>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="zap"></i>
            </div>
            <h3>Lightning Fast</h3>
            <p>
              Extract and translate hundreds of strings in seconds. Parallel
              processing for maximum efficiency.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="brain"></i>
            </div>
            <h3>Context-Aware AI</h3>
            <p>
              Powered by OpenAI models that understand context, tone, and
              domain-specific terminology.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="code-2"></i>
            </div>
            <h3>CLI First</h3>
            <p>
              Designed for developers. Integrate seamlessly into your build
              process and CI/CD pipelines.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="globe-2"></i>
            </div>
            <h3>Multi-Language</h3>
            <p>
              Support for 20+ languages. Translate to multiple targets in a
              single command.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="settings-2"></i>
            </div>
            <h3>Highly Configurable</h3>
            <p>
              Customize extraction patterns, translation tone, and context. Full
              configuration file support.
            </p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <i data-lucide="layers"></i>
            </div>
            <h3>Web Component</h3>
            <p>
              Drop-in client-side component for dynamic language switching with
              automatic caching.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
      <div class="container">
        <div class="section-header">
          <h2>How It Works</h2>
          <p>Three simple steps to multilingual applications</p>
        </div>
        <div class="steps">
          <div class="step">
            <div class="step-number">01</div>
            <div class="step-content">
              <div class="step-icon">
                <i data-lucide="scan"></i>
              </div>
              <h3>Extract Strings</h3>
              <p>
                Scan your source files for translatable content. Supports custom
                attributes and wildcards.
              </p>
              <div class="step-code">
                <code>polygot extract ./src en ./locales</code>
              </div>
            </div>
          </div>
          <div class="step">
            <div class="step-number">02</div>
            <div class="step-content">
              <div class="step-icon">
                <i data-lucide="wand-2"></i>
              </div>
              <h3>AI Translation</h3>
              <p>
                Leverage OpenAI models to generate accurate, context-aware
                translations for your target languages.
              </p>
              <div class="step-code">
                <code>polygot translate ./src es,fr ./locales</code>
              </div>
            </div>
          </div>
          <div class="step">
            <div class="step-number">03</div>
            <div class="step-content">
              <div class="step-icon">
                <i data-lucide="rocket"></i>
              </div>
              <h3>Deploy</h3>
              <p>
                Use generated locale files in your application. Integrate with
                our web component or your own i18n solution.
              </p>
              <div class="step-code">
                <code>&lt;polygot-translator lang="en"&gt;</code>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="use-cases">
      <div class="container">
        <div class="section-header">
          <h2>Built For Every Use Case</h2>
          <p>From startups to enterprise applications</p>
        </div>
        <div class="use-cases-grid">
          <div class="use-case-card">
            <i data-lucide="shopping-cart"></i>
            <h3>E-Commerce</h3>
            <p>
              Translate product descriptions, checkout flows, and customer
              communications.
            </p>
          </div>
          <div class="use-case-card">
            <i data-lucide="briefcase"></i>
            <h3>SaaS Platforms</h3>
            <p>
              Localize your dashboard, settings, and user interfaces for global
              markets.
            </p>
          </div>
          <div class="use-case-card">
            <i data-lucide="smartphone"></i>
            <h3>Mobile Apps</h3>
            <p>
              Generate locale files for React Native, Flutter, and native
              applications.
            </p>
          </div>
          <div class="use-case-card">
            <i data-lucide="book"></i>
            <h3>Documentation</h3>
            <p>
              Maintain multilingual documentation with consistent terminology.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Get Started Section -->
    <section id="get-started" class="get-started">
      <div class="container">
        <div class="get-started-content">
          <h2>Ready to Go Global?</h2>
          <p>Install Polygot and translate your first application in minutes</p>
          <div class="install-command">
            <code>npm install -g polygot</code>
            <button class="copy-btn" data-copy="npm install -g polygot">
              <i data-lucide="copy"></i>
            </button>
          </div>
          <div class="get-started-links">
            <a href="/docs" class="link-with-icon">
              <i data-lucide="book-open"></i>
              Read the Documentation
            </a>
            <a
              href="https://github.com/vipul69-eng/polygot"
              target="_blank"
              class="link-with-icon"
            >
              <i data-lucide="github"></i>
              View on GitHub
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container footer-content">
        <div class="footer-main">
          <div class="footer-brand">
            <div class="logo">
              <span class="logo-text">Polygot</span>
            </div>
            <p>AI-powered translation for modern applications</p>
          </div>
          <div class="footer-links">
            <div class="footer-column">
              <h4>Product</h4>
              <a href="#features">Features</a>
              <a href="#how-it-works">How It Works</a>
              <a href="/docs">Documentation</a>
            </div>
            <div class="footer-column">
              <h4>Resources</h4>
              <a href="/docs#commands">CLI Reference</a>
              <a href="/docs#web-integration">Web Component</a>
              <a href="/docs#workflow-examples">CI/CD Guide</a>
            </div>
            <div class="footer-column">
              <h4>Community</h4>
              <a href="https://github.com/vipul69-eng/polygot" target="_blank"
                >GitHub</a
              >
              <a
                href="https://github.com/vipul69-eng/polygot/issues"
                target="_blank"
                >Report Issues</a
              >
              <a href="https://github.com/discussions" target="_blank"
                >Discussions</a
              >
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; Polygot. Open source.</p>
          <div class="footer-social">
            <a
              href="https://github.com/vipul69-eng/polygot"
              target="_blank"
              aria-label="GitHub"
            >
              <i data-lucide="github"></i>
            </a>
          </div>
        </div>
      </div>
    </footer>

    <script>
  // Initialize Lucide icons
  lucide.createIcons();

  // === LANGUAGE DETECTION FROM URL ===
  // Extract language from URL path
  function getLanguageFromURL() {
    const path = window.location.pathname;
    const match = path.match(/^\/(en|es|fr|de)(\/|$)/);
    return match ? match[1] : 'en';
  }

  const urlLang = getLanguageFromURL();
  
  // Set language on component immediately
  const polygotTranslator = document.getElementById('polygot');
  polygotTranslator.setAttribute('lang', urlLang);

  // Language selector functionality
  const languageSelect = document.getElementById("languageSelect");
  const mobileLanguageSelect = document.getElementById("mobileLanguageSelect");
  const languageBadge = document.getElementById("languageBadge");

  // Set selectors to match URL language
  languageSelect.value = urlLang;
  mobileLanguageSelect.value = urlLang;

  // Check if first visit
  const hasVisited = localStorage.getItem("polygot-visited");
  if (!hasVisited) {
    languageSelect.classList.add("first-visit");
    setTimeout(() => {
      languageBadge.style.display = "none";
      languageSelect.classList.remove("first-visit");
      localStorage.setItem("polygot-visited", "true");
    }, 9000);
  } else {
    languageBadge.style.display = "none";
  }

  // Modified changeLanguage to update URL
  function changeLanguage(lang) {
    // Update URL
    const currentPath = window.location.pathname;
    let newPath;
    
    const hasLangInPath = /^\/(en|es|fr|de)(\/|$)/.test(currentPath);
    if (hasLangInPath) {
      newPath = currentPath.replace(/^\/(en|es|fr|de)/, `/${lang}`);
    } else {
      newPath = `/${lang}${currentPath}`;
    }
    
    window.history.pushState({}, '', newPath);
    
    // Update component and selectors
    languageSelect.value = lang;
    mobileLanguageSelect.value = lang;
    polygotTranslator.setAttribute('lang', lang);
    languageBadge.style.display = 'none';
    languageSelect.classList.remove('first-visit');

    const translator =
    document.getElementById("polygot") ||
    document.querySelector("polygot-translator");

    translator.changeLanguage(lang)
  }

  languageSelect.addEventListener("change", (e) => {
    changeLanguage(e.target.value);
  });

  mobileLanguageSelect.addEventListener("change", (e) => {
    changeLanguage(e.target.value);
  });

  // Mobile menu toggle
  const mobileMenuToggle = document.getElementById("mobileMenuToggle");
  const mobileMenu = document.getElementById("mobileMenu");
  const mobileMenuClose = document.getElementById("mobileMenuClose");

  mobileMenuToggle.addEventListener("click", () => {
    mobileMenu.classList.add("active");
  });

  mobileMenuClose.addEventListener("click", () => {
    mobileMenu.classList.remove("active");
  });

  // Close mobile menu when clicking links
  document.querySelectorAll(".mobile-menu-links a").forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu.classList.remove("active");
    });
  });

  // Copy button functionality
  document.querySelectorAll(".copy-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const text = btn.getAttribute("data-copy");
      navigator.clipboard.writeText(text).then(() => {
        const originalHTML = btn.innerHTML;
        btn.innerHTML = '<i data-lucide="check"></i>';
        lucide.createIcons();
        setTimeout(() => {
          btn.innerHTML = originalHTML;
          lucide.createIcons();
        }, 2000);
      });
    });
  });
</script>
  </body>
</html>
